все роуты в приложении должны заканчиватся
пустой строкой ''
вместо слеша '/'
router.get('') - правильно
router.get('/') - НЕправильно
router.get('/entity') - правильно
router.get('/entity/') - НЕправильно
router.get('/entity/:id') - правильно
router.get('/entity/:id/') - НЕправильно

названия мидлварей писать в UPPERCASE одним словом, чтоб было сразу заметно

на get запросы на обычные ресурсы не должны проходить авторизацию

философия плагина vuex простая: реагировать на события socket-io и вызывать мутации в модуле сторы для пришедших по socket-io данных. стора для той же сущности что и namespace в socket-io

меняет ли метод поведение сущности во времени ?
turnOn - запускает интервалы
turnOff - останавливает интервалы
значит это методы синхронизации с серверным состоянием

!!если клиент во время ожидания ack`ов получает клиентский бродксат, то этот же клиент сразу же отправляет запрос на актуальное состояние сущности сервера

    /**
      * пока на сервер осылалось сообщение о клиентском дрейне,
      * от сервера пришел клиентский бродкаст про старт,
      * а затем от сервера пришел ack что состояние дрейн успешно установлено
      * БУУУМ ВЫНОС МОЗГА
      *
      * needSync указывает на последнее действие пользователя,
      * которое требует доп синхронизации через ответный ack от сервера
      */
    // значит нужно сделать так, чтоб ack перекрывал любой бродкаст к этой сущности
    // а самый последний ack должен отменять применение всех предидущих ackов

^ ВВЕРХУ НАПИСАНА ПОЛНАЯ ХУЙНЯ ^

Service.add()
в репозиторий должны сохранятся модели, а не dto
точнее модель нужно конвертировать в запись
тоесть из dto нужно создать модель, а потом сконвертировать её в запись
а вот и нет. модель сущности может быть только у уже добавленной в репозиторий сущности.
не должно быть моделей, у которых нет записи в репозитории
и на выход должен уходить либо dto либо json
не нужно работающую модель выплёвывать в контроллер

AccountRepositoryDb.add()
поля, которые не пришли в dto база данных устанавливает по дефолту
пока временно буду делать дефолтные поля в маппере .toRecord()
хотя можно и в конструкторе, но лучше не надо

ВСЕ данные в контроллер приходят уже корректные и в правильном формате! поэтому их не нужно дополнительно проверять в контроллере. этими проверками занимается мидлваря

model/Profile:
время, прошедшее с момента регистрации
время, прошедшее с последнего изменения профайла
время, прошедшее с последней аутентификации
время, прошедшее с последней авторизации
находится ли онлайн в данный момент
список открытых сессий (ip адресс, устройство)

DELETE /auth/sign-out
POST /auth/change-password
POST /auth/profile
GET /auth/profile
DELETE /auth/wipe-out
DELETE /auth/wipe-proof
POST /auth/refresh
POST /auth/forgot-password
POST /auth/reset-password
